<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,
initial-scale=1, minimum-scale=1.0, shrink-to-fit=no">
<link href="../figures/favicon-32x32.png" rel="icon" />
<title>Tips for molecular dynamics</title>
<meta name="description" content="Tips for molecular dynamics">
<meta name="author" content="Simon Gravelle">
<link rel="stylesheet" type="text/css"
href="../assets_tutorials/vendor/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css"
href="../assets_tutorials/vendor/font-awesome/css/all.min.css" />
<link rel="stylesheet" type="text/css"
href="../assets_tutorials/css/stylesheet.css" />
<script async
src="https://www.googletagmanager.com/gtag/js?id=G-W1WGEC5GQ8"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-W1WGEC5GQ8');
</script>
<script id="MathJax-script" async
src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body data-spy="scroll" data-target=".idocs-navigation" data-offset="125">
<div id="main-wrapper">
<!-- ======================================================= -->
<!-- ======================================================= -->
<!-- ======================================================= -->
<header id="header" class="sticky-top">
	<nav class="primary-menu navbar navbar-expand-lg navbar-dropdown-dark">
	<div class="container-fluid">
		<a class="logo ml-md-3" href="../index.html" title="LAMMPS tutorials">
		<img src="../figures/logo.png"
		alt="LAMMPS tutorials" height="60"/>
		</a>
		<div id="header-nav" class="collapse navbar-collapse justify-content-end">
			<ul class="navbar-nav">
				<li>
				<a href="../index.html">
				All tutorials
				</a>
				</li>
				<li>
				<a href="../miscellaneous/contact.html">
				Contact / Get help with your project
				</a>
				</li>
			</ul>
		</div>
		<ul class="social-icons social-icons-sm ml-lg-2 mr-2">
			<li class="social-icons-twitter"><a data-toggle="tooltip"
			href="https://twitter.com/GravelleSimon" target="_blank"
			title="" data-original-title="Twitter">
			<i class="fab fa-twitter"></i></a></li>
			<li class="social-icons-twitter"><a data-toggle="tooltip"
			href="https://gitlab.com/sgravelle" target="_blank"
			title="" data-original-title="Gitlab">
			<i class="fab fa-gitlab"></i></i></a></li>
			<li class="social-icons-twitter"><a data-toggle="tooltip"
			href="https://github.com/simongravelle" target="_blank"
			title="" data-original-title="Github">
			<i class="fab fa-github"></i></i></a></li>
			<li class="social-icons-twitter"><a data-toggle="tooltip"
			href="https://www.youtube.com/c/SimonGravelle"
			target="_blank" title="" data-original-title="Youtube">
			<i class="fab fa-youtube"></i></i></a></li>
		</ul>
	</div>
	</nav>
</header>
<div class="idocs-navigation bg-light">
<ul class="nav flex-column ">
<li class="nav-item"><a class="nav-link active"
href="#intro">Getting Started</a></li>
<li class="nav-item"><a class="nav-link" href="#before">Before</a></li>
<li class="nav-item"><a class="nav-link" href="#during">During</a></li>
<li class="nav-item"><a class="nav-link" href="#after">After</a></li>
</ul>
</div>
<div class="idocs-content">
<div class="container">
<section id="intro">
	<h1>LAMMPS 101</h1>
	<p>
		This page provides general information about the functionnement of the open source software LAMMPS,
		which according to its <a href="https://docs.lammps.org" target="_blank">own website</a> is 
		<i>a classical molecular dynamics (MD) code that models ensembles of particles in 
		a liquid, solid, or gaseous state. </i>
		<br><br>
		Warning : this is not an exaustive list of the possibilities offered by LAMMPS (for that, see the <a href="https://docs.lammps.org/Manual.html" target="_blank">LAMMPS documentation</a>).
		<br><br>
		Credit : This page has been inspired by <a target="_blank" href="https://gist.github.com/rkingsbury/57805181da0b62a6b6e8f7ae778de9b2">this github post</a> by Ryan Kingsbury.
	</p>
</section>
<br><br>
<section id="before">
	<h2>Files</h2>
	<p>
		Any lammps simulation requires at least one input file. In addition, 
		one or more .data files containing information about the system topology can
		be supplied, as well as one or more files containing parameters, such 
		as masses and pair coefficients. 
	</p>
	<h4><b>The input script</b></h4>
	<p>
		Input scripts are text files that are read by LAMMPS one line at a time. Input 
		scripts contain commands (see below), and each command induces LAMMPS to take
		action. Line starting with # are ignored by LAMMPS. This is an example of a minimal script 
		extracted (with some simplifications) from <a href="../tutorials/01-SimpleMolecularSimulation.html">this tutorial</a>:
		<pre><code># Minimal LAMMPS input script with comments (this line is ignored)
pair_style lj/cut 2.5 						# use Lennards Jones potential with a 2.5 (unitless) cutoff 
region myreg block -10 10 -10 10 -10 10 			# define a cubic region
create_box 1 myreg 						# set the simulation box according to the region "myreg"
create_atoms 1 random 100 54142 myreg 				# create 100 atoms of type 1 in the region "myreg"
mass 1 2 							# attribute a mass of 2 (unitless) to atoms of type 1
pair_coeff 1 1 1.5 0.7 						# attribute Lennards Jones coefficients (epsilon = 1.5 and sigma = 0.7) to atoms of type 1
dump mydmp all atom 10 dump.lammpstrj 				# dump the atoms position in a file every 10 timestep
minimize 1.0e-4 1.0e-6 1000 10000 				# perform an energy minimisation</code></pre>
	</p>
</section>
<br><br>
<section id="before">
	<h2>System creation</h2>
	<p>
		Typically, a simulation requires the definition of a computational box (orthogonal or tilded), 
		as well as a list of atoms and their initial positions. These information can either be 
		written in a .data file before the simulation is started, or be specified within the input
		script. 
	</p>
	<h4><b>From a .data file</b></h4>
	<p>
		LAMMPS can read information from .data file using the read_data command. 
		The .data file usually contains information such as the number of atoms
		and their initial positions, the box dimensions, etc. Such .data
		file must follow a specific formating, see <a href="https://docs.lammps.org/2001/data_format.html" target="_blank">here</a>.
		Here is an example of a .data file for a simple system with 1 water molecule:
		<pre><code>15 atoms
2 atom types
2 bonds
1 bond types
1 angles
1 angle types

-5.00 5.00 xlo xhi
-5.00 5.00 ylo yhi
-5.00 5.00 zlo zhi

Masses

1 15.9994
2 1.008

Atoms

3 1 2 0.527 -0.43213494211794057 4.490986821056591 -2.00832253672005 
1 1 1 -1.054 -1.0103199635859141 3.9862944633721575 -1.436277429248943
2 1 2 0.527 -1.819251731628718 3.888533765608223 -1.938580267494636

Bonds

1 1 1 2
2 1 1 3

Angles

1 1 2 1 3</code></pre>
	</p>
	<p>
		There are some external softwares allowing you to create such .data file (see
		for instance VMD + topotool). You can also write a simple script yourself (see
		some of my own (Python and Octave/Matlab) scripts in my <a href="https://github.com/simongravelle/lammps-input-files", target="_blank">Github repository</a>).
	</p>
	<h4><b>LAMMPS build-in commands</b></h4>
	<p>
		Another way to create a simulation box and place atoms is to use the
		create_box and create_atoms commands of lammps:
		<pre><code>region box block -5 5 -5 5 -5 5
create_box 2 box &
	bond/types 1 &
	angle/types 1 &
	extra/bond/per/atom 2 &
	extra/angle/per/atom 1 &
	extra/special/per/atom 2
molecule h2omol H2OTip4p.txt
create_atoms 0 random 1 456415 NULL mol h2omol 454756</code></pre>
	</p>
	<p>
		These commands, when placed in a LAMMPS input script, respectively (1) generate a box of 10x10x10, (2) create 
		a simulation box with the space for 2 atom type, 1 bond type, and 1 angle type, and (3) create 
		one single molecule at a random location from a template H2OTip4p.txt. Here the template 
		contains information about the molecule (i.e. which atoms are bonded toghether, etc.).
	</p>
</section>
<br><br>
<section id="before">
	<h2>Outputs</h2>
	<p>
		There are several ways of extracting information from a simulation:
	</p>
	<h4><b>Thermodynamic info</b></h4>
	<p>
		Thermodynamic info (such as temperature, energy, pressure) can be printed in the 
		terminal and in the log file as the simulation goes by using the thermo command:
		<pre><code>thermo 100</code></pre>
	</p>
	<p>
		Here thermodynamic info are printed every 100 timesteps. You can use the thermo_modify
		command to change the type of info you want to see being printed. This is a 
		great way of controlling your simulation as it runs. 
	</p>
	<h4><b>Trajectory</b></h4>
	<p>
		Trajectory information, i.e. the position of atoms over time, can be printed 
		in a file using the dump command:
		<pre><code>dump myDump all atom 100 dump.lammpstrj</code></pre>
		Here the positions of all the atoms is printed every 100 timestep in the dump.lammpstrj,
		which you can then open using VMD or Ovito. lammpstrj is the default ascii LAMMPS
		dump format. Compressed trajectory formats such as xtc can also be used.
	</p>
	<h4><b>Data</b></h4>
	<p>
		Data (such as temperature, the center of mass of an atom, the 1D profile of density) can 
		be extracted from a simulation using compute and variable ()
	</p>
</section>
<br><br>
<section id="before">
	<h2>Restarting a simulation</h2>
	<h4><b>Binary files</b></h4>
	<p>
		test
	</p>
	<h4><b>Text files</b></h4>
	<p>
		test
	</p>
</section>
<br><br>
<section id="after">
	<p class="alert alert-info"> 
		<a href="contact.html">Click here</a>
			if you are looking for help with your project, if you want to
			support me (for free or not), or if you have any suggestions
			for these tutorials.
	</p>
</section>
</div>
</div>
<footer id="footer" class="section">
	<div class="container">
	<p class="text-2 text-center mb-0">
		This template has been adapted from
		<a class="btn-link" target="_blank"
		href="https://github.com/harnishdesign/iDocs/">HarnishDesign</a>.
	</p>
	</div>
</footer>
</div>
<a id="back-to-top" data-toggle="tooltip" title="Back to Top"
href="javascript:void(0)"><i class="fa fa-chevron-up"></i></a>
<script src="../assets_tutorials/vendor/jquery/jquery.min.js"></script>
<script src="../assets_tutorials/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="../assets_tutorials/vendor/highlight.js/highlight.min.js"></script>
<script src="../assets_tutorials/vendor/jquery.easing/jquery.easing.min.js"></script>
<script src="../assets_tutorials/vendor/magnific-popup/jquery.magnific-popup.min.js"></script>
<script src="../assets_tutorials/js/theme.js"></script>
</body>
</html>
